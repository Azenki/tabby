(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2342,6044],{28242:function(e,t,n){"use strict";n.d(t,{F:function(){return c},f:function(){return d}});var r=n(3546);let s=["light","dark"],a="(prefers-color-scheme: dark)",o="undefined"==typeof window,l=(0,r.createContext)(void 0),i={setTheme:e=>{},themes:[]},c=()=>{var e;return null!==(e=(0,r.useContext)(l))&&void 0!==e?e:i},d=e=>(0,r.useContext)(l)?r.createElement(r.Fragment,null,e.children):r.createElement(m,e),u=["light","dark"],m=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:o=!0,storageKey:i="theme",themes:c=u,defaultTheme:d=n?"system":"light",attribute:m="data-theme",value:v,children:g,nonce:b})=>{let[j,y]=(0,r.useState)(()=>p(i,d)),[w,N]=(0,r.useState)(()=>p(i)),C=v?Object.values(v):c,k=(0,r.useCallback)(e=>{let r=e;if(!r)return;"system"===e&&n&&(r=x());let a=v?v[r]:r,l=t?h():null,i=document.documentElement;if("class"===m?(i.classList.remove(...C),a&&i.classList.add(a)):a?i.setAttribute(m,a):i.removeAttribute(m),o){let e=s.includes(d)?d:null,t=s.includes(r)?r:e;i.style.colorScheme=t}null==l||l()},[]),S=(0,r.useCallback)(e=>{y(e);try{localStorage.setItem(i,e)}catch(e){}},[e]),A=(0,r.useCallback)(t=>{let r=x(t);N(r),"system"===j&&n&&!e&&k("system")},[j,e]);(0,r.useEffect)(()=>{let e=window.matchMedia(a);return e.addListener(A),A(e),()=>e.removeListener(A)},[A]),(0,r.useEffect)(()=>{let e=e=>{e.key===i&&S(e.newValue||d)};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[S]),(0,r.useEffect)(()=>{k(null!=e?e:j)},[e,j]);let E=(0,r.useMemo)(()=>({theme:j,setTheme:S,forcedTheme:e,resolvedTheme:"system"===j?w:j,themes:n?[...c,"system"]:c,systemTheme:n?w:void 0}),[j,S,e,w,n,c]);return r.createElement(l.Provider,{value:E},r.createElement(f,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:n,enableColorScheme:o,storageKey:i,themes:c,defaultTheme:d,attribute:m,value:v,children:g,attrs:C,nonce:b}),g)},f=(0,r.memo)(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:o,enableColorScheme:l,defaultTheme:i,value:c,attrs:d,nonce:u})=>{let m="system"===i,f="class"===n?`var d=document.documentElement,c=d.classList;c.remove(${d.map(e=>`'${e}'`).join(",")});`:`var d=document.documentElement,n='${n}',s='setAttribute';`,p=l?s.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(e,t=!1,r=!0)=>{let a=c?c[e]:e,o=t?e+"|| ''":`'${a}'`,i="";return l&&r&&!t&&s.includes(e)&&(i+=`d.style.colorScheme = '${e}';`),"class"===n?i+=t||a?`c.add(${o})`:"null":a&&(i+=`d[s](n,${o})`),i},x=e?`!function(){${f}${h(e)}}()`:o?`!function(){try{${f}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${m})){var t='${a}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${c?`var x=${JSON.stringify(c)};`:""}${h(c?"x[e]":"e",!0)}}${m?"":"else{"+h(i,!1,!1)+"}"}${p}}catch(e){}}()`:`!function(){try{${f}var e=localStorage.getItem('${t}');if(e){${c?`var x=${JSON.stringify(c)};`:""}${h(c?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${p}}catch(t){}}();`;return r.createElement("script",{nonce:u,dangerouslySetInnerHTML:{__html:x}})},()=>!0),p=(e,t)=>{let n;if(!o){try{n=localStorage.getItem(e)||void 0}catch(e){}return n||t}},h=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},x=e=>(e||(e=window.matchMedia(a)),e.matches?"dark":"light")},72282:function(e,t,n){Promise.resolve().then(n.bind(n,49282))},49282:function(e,t,n){"use strict";n.r(t),n.d(t,{Page:function(){return eh}});var r=n(36164),s=n(3546),a=n(70652),o=n.n(a),l=n(54767),i=n(28445),c=n(84837),d=n(1853),u=n(12978),m=n(99092),f=n.n(m),p=n(2578),h=n(40055),x=n(21808),v=n(43240),g=n(18500),b=n(9010),j=n(24449),y=n(16784),w=n(98454),N=n(44645),C=n(96274),k=n(37266),S=n(11634),A=n(70410),E=n(57288),I=n(31458),M=n(81565),D=n(57830),T=n(72657),R=n(30601),P=n(6230),F=n(54646),L=n(69579),z=n(52569),_=n(11978),O=n(28312),Z=n(73460),$=n(63795),V=n(62202),U=n(68172),W=n(61249),Y=n(63743),H=n(7449);let G=(0,s.createContext)({}),J=(0,v.BX)("\n  mutation DeletePage($id: ID!) {\n    deletePage(id: $id)\n  }\n");function q(e){let{pageIdFromURL:t,streamingDone:n}=e,a=(0,_.useRouter)(),{isPageOwner:o,mode:l,setMode:i,isLoading:c}=(0,s.useContext)(G),[d,u]=(0,s.useState)(!1),[m,f]=(0,s.useState)(!1),{copyToClipboard:h}=(0,O.m)({}),x=(0,S.Db)(J,{onCompleted(e){e.deletePage?a.replace("/"):(p.A.error("Failed to delete"),f(!1))},onError(e){p.A.error((null==e?void 0:e.message)||"Failed to delete"),f(!1)}}),v=e=>{e&&(0,k.wh)(),a.push("/")};return(0,r.jsxs)("header",{className:"relative flex h-16 w-full items-center justify-between border-b px-4 lg:px-10",children:[(0,r.jsx)("div",{className:"flex items-center gap-x-6",children:(0,r.jsxs)(I.z,{variant:"ghost",className:"-ml-1 pl-0 text-sm text-muted-foreground",onClick:()=>v(),children:[(0,r.jsx)(M.IconChevronLeft,{className:"mr-1 h-5 w-5"}),"Home"]})}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[o?(0,r.jsx)(r.Fragment,{children:"edit"===l?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(I.z,{disabled:!n,onClick:e=>i("view"),children:"Done"})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(V.h_,{modal:!1,children:[(0,r.jsx)(V.$F,{asChild:!0,children:(0,r.jsx)(I.z,{size:"icon",variant:"ghost",children:(0,r.jsx)(M.IconMore,{})})}),(0,r.jsxs)(V.AW,{align:"end",children:[(0,r.jsxs)(V.Xi,{className:"cursor-pointer gap-2",onSelect:()=>{h(window.location.href)},children:[(0,r.jsx)(M.IconShare,{}),"Share"]}),n&&t&&o&&(0,r.jsxs)(V.Xi,{className:"cursor-pointer gap-2 !text-destructive",onSelect:()=>u(!0),children:[(0,r.jsx)(M.IconTrash,{}),"Delete Page"]})]})]}),(0,r.jsxs)(I.z,{variant:"ghost",className:"flex items-center gap-1 px-2 font-normal",onClick:()=>i("edit"),children:[(0,r.jsx)(M.IconEdit,{}),"Edit"]})]})}):null,(0,r.jsx)(U.q,{children:(0,r.jsx)(Y.T,{})}),(0,r.jsx)(W.L,{className:"mr-4"}),(0,r.jsx)(H.Z,{showHome:!1,showSetting:!0,beforeRouteChange:()=>{(0,k.wh)()},children:(0,r.jsx)(z.SQ,{className:"h-10 w-10 border"})})]}),(0,r.jsx)("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",children:c?(0,r.jsx)($.C,{variant:"secondary",children:"Writing..."}):"edit"===l?(0,r.jsx)($.C,{children:"Editing"}):null}),(0,r.jsx)(Z.aR,{open:d,onOpenChange:u,children:(0,r.jsxs)(Z._T,{children:[(0,r.jsxs)(Z.fY,{children:[(0,r.jsx)(Z.f$,{children:"Delete this page"}),(0,r.jsx)(Z.yT,{children:"Are you sure you want to delete this page? This operation is not revertible."})]}),(0,r.jsxs)(Z.xo,{children:[(0,r.jsx)(Z.le,{children:"Cancel"}),(0,r.jsxs)(Z.OL,{className:(0,I.d)({variant:"destructive"}),onClick:e=>{e.preventDefault(),f(!0),x({id:t}).then(e=>{var t;(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.deletePage)?a.replace("/"):(p.A.error("Failed to delete"),f(!1))})},children:[m&&(0,r.jsx)(M.IconSpinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Yes, delete it"]})]})]})})]})}let B=e=>{let{sections:t}=e,{isLoading:n,pendingSectionIds:a}=(0,s.useContext)(G),[o,l]=(0,s.useState)(),i=(0,s.useRef)(null),c=(0,j.S)(e=>{l(e)},200);return(0,s.useEffect)(()=>{i.current=new IntersectionObserver(e=>{let t=e.filter(e=>e.isIntersecting).sort((e,t)=>e.boundingClientRect.top-t.boundingClientRect.top);if(t.length>0){let e=t[0];c.run(e.target.id)}},{root:null,rootMargin:"0px",threshold:.1});let e=document.querySelectorAll(".section-title");return e.forEach(e=>{var t;null===(t=i.current)||void 0===t||t.observe(e)}),()=>{var e;null===(e=i.current)||void 0===e||e.disconnect()}},[n,a]),(0,r.jsx)("nav",{className:"sticky right-0 top-0 p-4 pt-8",children:(0,r.jsx)("ul",{className:"flex flex-col space-y-1 border-l",children:null==t?void 0:t.map(e=>{let t=o===e.id;return(0,r.jsx)("li",{className:"relative -ml-px cursor-pointer",onClick:t=>{let n=document.getElementById(e.id);n&&n.scrollIntoView({behavior:"smooth",block:"start"})},children:(0,r.jsx)("div",{className:(0,E.cn)("truncate whitespace-nowrap pl-2 text-sm",{"text-foreground border-l border-foreground":t,"text-muted-foreground":!t}),children:e.title})},e.id)})})})};var K=n(62226),X=n.n(K),Q=n(6797),ee=n.n(Q),et=n(66686),en=(n(95052),n(25600),n(3448)),er=n(89811);function es(){return(0,r.jsx)("div",{className:"mx-auto mt-8 grid grid-cols-4 gap-2 px-4 pb-32 lg:max-w-5xl lg:px-0",children:(0,r.jsxs)("div",{className:"col-span-3 space-y-12",children:[(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)(en.O,{className:"mb-6 h-6 w-[50%]"}),(0,r.jsx)(ei,{}),(0,r.jsx)(el,{})]}),(0,r.jsx)(ea,{})]})})}function ea(){return(0,r.jsx)("div",{className:"w-full space-y-12",children:Array.from({length:3}).map((e,t)=>(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)(eo,{}),(0,r.jsx)(el,{})]},t))})}function eo(){return(0,r.jsx)("div",{className:"mb-6 w-full",children:(0,r.jsx)(en.O,{className:"w-[50%]"})})}function el(){return(0,r.jsxs)("div",{className:"w-full space-y-3",children:[(0,r.jsx)(en.O,{className:"w-[80%]"}),(0,r.jsx)(en.O,{className:"w-[30%]"}),(0,r.jsx)(en.O,{className:"w-[80%]"}),(0,r.jsx)(en.O,{className:"w-[30%]"})]})}function ei(){return(0,r.jsxs)("div",{className:"my-4 flex w-full items-center gap-4",children:[(0,r.jsx)(en.O,{className:"h-6 w-6 rounded-full"}),(0,r.jsx)(en.O,{className:"w-20"})]})}function ec(e){let{className:t,section:n,isGenerating:a,enableMoveUp:o,enableMoveDown:l}=e,{mode:i,isPageOwner:c,isLoading:d,pendingSectionIds:u,onDeleteSection:m,onMoveSectionPosition:f}=(0,s.useContext)(G),p=u.has(n.id)&&!n.content,h=()=>{f(n.id,g.pV.Up)},x=()=>{f(n.id,g.pV.Down)};return(0,r.jsx)("div",{className:(0,E.cn)("flex flex-col gap-y-5",t),children:(0,r.jsx)(P.Z,{loading:p,fallback:(0,r.jsx)(el,{}),children:(0,r.jsxs)("div",{children:[a&&!n.content&&(0,r.jsx)(en.O,{className:"mt-1 h-40 w-full"}),(0,r.jsx)(F.J,{message:n.content,canWrapLongLines:!a,supportsOnApplyInEditorV2:!1,className:"prose-p:my-0.5 prose-ol:my-1 prose-ul:my-1"}),!a&&(0,r.jsxs)("div",{className:"mt-3 flex items-center gap-3 text-sm",children:[!1,(0,r.jsx)("div",{className:"flex items-center gap-x-3",children:c&&"edit"===i&&!d&&(0,r.jsxs)(r.Fragment,{children:[o&&(0,r.jsxs)(I.z,{size:"sm",variant:"ghost",className:"h-auto gap-0.5 px-2 py-1 font-normal",onClick:e=>h(),disabled:d,children:[(0,r.jsx)(M.IconArrowDown,{className:"rotate-180"}),"Move Up"]}),l&&(0,r.jsxs)(I.z,{size:"sm",variant:"ghost",className:"h-auto gap-0.5 px-2 py-1 font-normal",onClick:e=>x(),disabled:d,children:[(0,r.jsx)(M.IconArrowDown,{}),"Move Down"]}),(0,r.jsxs)(I.z,{size:"sm",variant:"hover-destructive",className:"h-auto gap-0.5 px-2 py-1 font-normal",disabled:d,onClick:()=>{m(n.id)},children:[(0,r.jsx)(M.IconTrash,{}),"Delete Section"]})]})})]})]})})})}let ed=e=>{let t=X().sanitize(e,{ALLOWED_TAGS:[],ALLOWED_ATTR:[]}),n=et.TU.parse(t),r=ee().decode(n),s=r.replace(/<\/?[^>]+(>|$)/g,"");return s};function eu(e){let{section:t,className:n,...a}=e,{pendingSectionIds:o}=(0,s.useContext)(G),l=o.has(t.id)&&!t.content;return(0,r.jsx)("div",{className:"section-title",id:t.id,children:(0,r.jsx)("div",{className:(0,E.cn)("flex items-center gap-2 font-semibold",n),id:t.id,...a,children:(0,r.jsx)(F.J,{message:t.title,contextInfo:void 0,supportsOnApplyInEditorV2:!1,className:(0,E.cn)("text-3xl prose-h2:text-foreground prose-p:mb-1 prose-p:mt-0",{"text-foreground/50":l}),headline:!0})})})}let em=(0,v.BX)("\n  subscription createThreadToPageRun($threadId: ID!) {\n    createThreadToPageRun(threadId: $threadId) {\n      __typename\n      ... on PageCreated {\n        id\n        authorId\n        title\n      }\n      ... on PageContentDelta {\n        delta\n      }\n      ... on PageContentCompleted {\n        id\n      }\n      ... on PageSectionsCreated {\n        sections {\n          id\n          title\n          position\n        }\n      }\n      ... on PageSectionContentDelta {\n        id\n        delta\n      }\n      ... on PageSectionContentCompleted {\n        id\n      }\n      ... on PageCompleted {\n        id\n      }\n    }\n  }\n"),ef=(0,v.BX)("\n  mutation DeletePageSection($sectionId: ID!) {\n    deletePageSection(sectionId: $sectionId)\n  }\n"),ep=(0,v.BX)("\n  mutation movePageSection($id: ID!, $direction: MoveSectionDirection!) {\n    movePageSection(id: $id, direction: $direction)\n  }\n");function eh(){var e,t,n,a,o;let[{data:m}]=(0,w.P)(),{updateUrlComponents:v,pathname:k,router:I}=(0,N.Z)(),[L,_]=(0,s.useState)(),[O,Z]=(0,s.useState)(!1),$=(0,C.u)(e=>e.pendingThreadId),[V,U]=(0,s.useState)($?"edit":"view"),[W,Y]=(0,s.useState)(new Set),[H,J]=(0,s.useState)(!!$),[K,X]=(0,s.useState)(void 0),Q=(0,s.useRef)(null),[ee]=(0,R.Hb)(),et=(0,s.useRef)(!1),{theme:en}=(0,b.X)(),[er,ei]=(0,s.useState)(),[ed,eh]=(0,s.useState)(),[ev,eg]=(0,s.useState)(),[eb,ej]=(0,s.useState)(!1),[ey,ew]=(0,s.useState)(),[eN,eC]=(0,s.useState)(!1),ek=(0,s.useMemo)(()=>{var e,t;if(L)return null===(t=L.match(/^\/pages\/(.*)/))||void 0===t?void 0:null===(e=t[1])||void 0===e?void 0:e.split("-").pop()},[L]),eS=(0,s.useRef)(),eA=e=>{switch(e.__typename){case"PageCreated":let t=new Date().toISOString(),n={id:e.id,authorId:e.authorId,title:e.title,content:"",updatedAt:t,createdAt:t};eh(n),ei(e.id),eY(n);break;case"PageContentDelta":eh(t=>t?{...t,content:(t.content||"")+e.delta}:t);break;case"PageContentCompleted":break;case"PageSectionsCreated":{let t=e.sections.map(e=>({...e,pageId:er,content:""}));Y(new Set(e.sections.map(e=>e.id))),eg(t);break}case"PageSectionContentDelta":X(e.id),eg(t=>{let n=null==t?void 0:t.find(t=>t.id===e.id);return n&&t?t.map(t=>t.id===e.id?{...t,content:(t.content||"")+e.delta}:t):t});case"PageSectionContentCompleted":Y(t=>{if(!t.has(e.id))return t;let n=new Set(t);return n.delete(e.id),n});break;case"PageCompleted":eI.current()}},eE=e=>{let{unsubscribe:t}=S.Lp.subscription(em,{threadId:e}).subscribe(e=>{var n;if(null==e?void 0:e.error){ej(!1),ew(e.error),t();return}let r=null===(n=e.data)||void 0===n?void 0:n.createThreadToPageRun;r&&eA(r)});return t},eI=(0,y.d)(()=>{var e;null===(e=eS.current)||void 0===e||e.call(eS),eS.current=void 0,ej(!1),Y(new Set),X(void 0)}),eM=(0,S.Db)(ef),eD=(0,S.Db)(ep);(0,s.useEffect)(()=>{ek&&ei(ek)},[ek]);let[eT,eR]=(0,s.useState)(),[{data:eP,error:eF,fetching:eL}]=(0,h.aM)({query:A.u5,variables:{ids:[ek]},pause:!ek});(0,s.useEffect)(()=>{var e,t;let n=null==eP?void 0:null===(t=eP.pages.edges)||void 0===t?void 0:null===(e=t[0])||void 0===e?void 0:e.node;n&&eh(n)},[eP]);let[{data:ez,error:e_,fetching:eO,stale:eZ}]=(0,h.aM)({query:A.bP,variables:{pageId:ek,first:30,after:eT},pause:!ek||H});(0,s.useEffect)(()=>{var e,t,n,r;if(!eZ){if(null==ez?void 0:null===(t=ez.pageSections)||void 0===t?void 0:null===(e=t.edges)||void 0===e?void 0:e.length){let e=ez.pageSections.edges.map(e=>e.node).slice().sort((e,t)=>e.position-t.position);eg(t=>(0,u.Z)([...t||[],...e],"id"))}if(null==ez?void 0:ez.pageSections){let e=null==ez?void 0:null===(r=ez.pageSections)||void 0===r?void 0:null===(n=r.pageInfo)||void 0===n?void 0:n.hasNextPage,t=null==ez?void 0:ez.pageSections.pageInfo.endCursor;e&&t?eR(t):J(!0)}}},[ez]);let[{data:e$,fetching:eV}]=(0,h.aM)({query:A.TH,variables:{ids:(0,d.Z)([null==ed?void 0:ed.authorId])},pause:!(null==ed?void 0:ed.authorId)}),eU=null==e$?void 0:null===(t=e$.users)||void 0===t?void 0:null===(e=t.edges[0])||void 0===e?void 0:e.node,eW=(0,s.useMemo)(()=>{var e;if(!m)return!1;if(!ek)return!0;let t=null==eP?void 0:null===(e=eP.pages.edges)||void 0===e?void 0:e[0];return!!t&&m.me.id===t.node.authorId},[m,eP,ek]);(0,s.useEffect)(()=>{(null==ed?void 0:ed.title)&&(document.title=ed.title)},[null==ed?void 0:ed.title]),(0,s.useEffect)(()=>{e_&&!H&&J(!0)},[e_]);let eY=e=>{var t;if(!e)return;let{title:n,id:r}=e,s=null!==(t=(n||"").split("\n")[0])&&void 0!==t?t:"",a=s.slice(0,x.$I),o=(0,l.Z)(a),i=(0,d.Z)([o,r]).join("-"),c=v({pathname:"/pages/".concat(i),replace:!0});return location.origin+c};(0,s.useEffect)(()=>{_(k),O||Z(!0)},[k]),(0,s.useEffect)(()=>{O&&!ek&&(()=>{if(!et.current){if(et.current=!0,$){ej(!0),ew(void 0),eS.current=eE($),(0,C.W)(void 0);return}er||I.replace("/")}})()},[O]);let eH=async e=>{if(ek&&!eb)return eM({sectionId:e}).then(t=>{var n;if(null==t?void 0:null===(n=t.data)||void 0===n?void 0:n.deletePageSection){let t=null==ev?void 0:ev.filter(t=>t.id!==e);eg(t)}else p.A.error("Failed to delete")})},eG=(e,t,n)=>{let r=e.findIndex(e=>e.id===t);if(-1===r)return e;let s=n===g.pV.Up?r-1:r+1,a=e.map((e,t)=>t===r?{...e,position:n===g.pV.Up?e.position-1:e.position+1}:t===s?{...e,position:n===g.pV.Up?e.position+1:e.position-1}:e);return a.slice().sort((e,t)=>e.position-t.position)},eJ=async(e,t)=>{if(ek&&!eb&&!eN)return eC(!0),eD({id:e,direction:t}).then(n=>{var r;(null==n?void 0:null===(r=n.data)||void 0===r?void 0:r.movePageSection)?eg(n=>n?eG(n,e,t):n):p.A.error("Failed to move")}).finally(()=>{eC(!1)})},eq=(0,s.useMemo)(()=>{var e,t;if(H&&!eL&&ek&&(eF||!(null==eP?void 0:null===(t=eP.pages)||void 0===t?void 0:null===(e=t.edges)||void 0===e?void 0:e.length)))return eF||Error(x.ir)},[eP,eL,eF,H,ek]),[eB]=(0,j.n)(eO||(null==ez?void 0:null===(a=ez.pageSections)||void 0===a?void 0:null===(n=a.pageInfo)||void 0===n?void 0:n.hasNextPage),200),eK=ee?{height:"calc(100vh - ".concat(R.wt,")")}:{height:"100vh"};return H&&(eq||e_)?(0,r.jsx)(ex,{error:eq||e_,pageIdFromURL:ek}):!H&&(eB||eZ)?(0,r.jsxs)("div",{children:[(0,r.jsx)(q,{}),(0,r.jsx)(es,{})]}):(0,r.jsx)(G.Provider,{value:{isLoading:eb,isPathnameInitialized:O,isPageOwner:eW,mode:V,setMode:U,pendingSectionIds:W,setPendingSectionIds:Y,currentSectionId:K,onDeleteSection:eH,onMoveSectionPosition:eJ},children:(0,r.jsxs)("div",{style:eK,children:[(0,r.jsx)(q,{pageIdFromURL:ek,streamingDone:!eb}),(0,r.jsx)(P.Z,{loading:!H||!ed,fallback:(0,r.jsx)(es,{}),children:(0,r.jsxs)("main",{className:"h-[calc(100%-4rem)] pb-8 lg:pb-0",children:[(0,r.jsx)(D.ScrollArea,{className:"h-full w-full",ref:Q,children:(0,r.jsxs)("div",{className:"mx-auto grid grid-cols-4 gap-2 px-4 pb-32 lg:max-w-5xl lg:px-0",children:[(0,r.jsxs)("div",{className:"relative col-span-3",children:[(0,r.jsxs)("div",{className:"mb-2 mt-8",children:[(0,r.jsx)(P.Z,{loading:!ed,fallback:(0,r.jsx)(eo,{}),children:(0,r.jsx)("h1",{className:"text-4xl font-semibold",children:null==ed?void 0:ed.title})}),(0,r.jsx)("div",{className:"my-4 flex gap-4 text-sm text-muted-foreground",children:(0,r.jsx)(P.Z,{loading:eV||!(null==ed?void 0:ed.authorId),children:!!ed&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(z.Yt,{user:eU,className:"h-6 w-6"}),(0,r.jsx)("div",{children:null==eU?void 0:eU.name})]}),(0,r.jsx)("div",{className:"flex items-center gap-3",children:(0,r.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,r.jsx)(M.IconClock,{}),(0,r.jsx)("span",{children:function(e){let t=f()(e);if(t.isBefore(f()().subtract(1,"year"))){let e=t.format("MMM D, YYYY, h:mm A");return e}if(t.isBefore(f()().subtract(1,"month"))){let e=t.format("MMM D, hh:mm A");return"".concat(e)}return"".concat(t.fromNow())}(ed.createdAt)})]})})]})})})]}),(0,r.jsx)(P.Z,{loading:!ed||eb&&!(null==ed?void 0:ed.content),fallback:(0,r.jsx)(el,{}),children:(0,r.jsx)(F.J,{message:null!==(o=null==ed?void 0:ed.content)&&void 0!==o?o:"",supportsOnApplyInEditorV2:!1})}),(0,r.jsx)(P.Z,{loading:!ed||eb&&!(null==ev?void 0:ev.length),fallback:(0,r.jsx)("div",{className:"my-8 w-full",children:(0,r.jsx)(ea,{})}),children:(0,r.jsx)(i.M,{initial:!1,children:null==ev?void 0:ev.map((e,t)=>{let n=eb&&e.id===K,s=t<ev.length-1;return(0,r.jsxs)(c.E.div,{layout:!eb&&"edit"===V,exit:{opacity:0},children:[(0,r.jsx)(eu,{className:"section-title pt-8",section:e}),(0,r.jsx)(ec,{section:e,isGenerating:n,enableMoveUp:0!==t,enableMoveDown:s})]},"section_".concat(e.id))})},"".concat(eb,"-").concat(V))})]}),(0,r.jsx)("div",{className:"relative col-span-1",children:(0,r.jsx)(B,{sections:ev})})]})}),(0,r.jsx)(T.K,{className:(0,E.cn)("!fixed !bottom-[5.4rem] !right-4 !top-auto z-40 border-muted-foreground lg:!bottom-[2.85rem]"),container:Q.current,offset:100,style:"dark"===en?{"--background":"0 0% 12%"}:{}})]})})]})})}function ex(e){let{error:t,pageIdFromURL:n}=e;return t.message===x.ir?(0,r.jsx)(L.default,{}):(0,r.jsxs)("div",{className:"flex h-screen flex-col",children:[(0,r.jsx)(q,{pageIdFromURL:n}),(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsxs)("div",{className:"flex h-full flex-col items-center justify-center gap-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(M.IconFileSearch,{className:"h-6 w-6"}),(0,r.jsx)("div",{className:"text-xl font-semibold",children:"Something went wrong"})]}),(0,r.jsx)("div",{children:"Failed to fetch, please refresh the page"}),(0,r.jsx)(o(),{href:"/",onClick:k.wh,className:(0,E.cn)((0,I.d)(),"mt-4 gap-2"),children:(0,r.jsx)("span",{children:"Home"})})]})})]})}},72657:function(e,t,n){"use strict";n.d(t,{K:function(){return i}});var r=n(36164);n(3546);var s=n(12624),a=n(57288),o=n(31458),l=n(81565);function i(e){let{className:t,container:n,offset:i,...c}=e,d=(0,s.e)(i||0,n);return(0,r.jsxs)(o.z,{variant:"outline",size:"icon",className:(0,a.cn)("absolute right-4 top-1 z-10 bg-background transition-opacity duration-300 sm:right-8 md:top-2",d?"opacity-0":"opacity-100",t),onClick:()=>{n?n.scrollTo({top:n.scrollHeight,behavior:"smooth"}):window.scrollTo({top:document.body.offsetHeight,behavior:"smooth"})},...c,children:[(0,r.jsx)(l.IconArrowDown,{}),(0,r.jsx)("span",{className:"sr-only",children:"Scroll to bottom"})]})}},83171:function(e,t,n){"use strict";n.d(t,{p:function(){return i},t:function(){return c}});var r=n(36164);n(3546);var s=n(44516),a=n(18500),o=n(57288),l=n(81565);function i(e){let{kind:t,label:n,className:a}=e;return(0,r.jsxs)(s.T5,{as:"span",className:(0,o.cn)("source-mention rounded-sm px-1",a),children:[(0,r.jsx)(d,{kind:t,className:"self-center"}),(0,r.jsx)("span",{className:"whitespace-nowrap",children:n})]})}function c(e){let{kind:t,label:n,id:s}=e.node.attrs;return(0,r.jsx)(i,{kind:t,label:n,id:s})}function d(e){let{kind:t,...n}=e;switch(t){case a.ri.Doc:return(0,r.jsx)(l.IconEmojiBook,{...n});case a.ri.Web:return(0,r.jsx)(l.IconEmojiGlobe,{...n});case a.ri.Git:return(0,r.jsx)(l.IconCode,{...n});case a.ri.Github:return(0,r.jsx)(l.IconGitHub,{...n});case a.ri.Gitlab:return(0,r.jsx)(l.IconGitLab,{...n});default:return null}}},64219:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(36164),s=n(62226),a=n.n(s),o=n(6797),l=n.n(o),i=n(66686),c=n(57288),d=n(89811),u=n(63795),m=n(81565),f=n(52569);function p(e){let{relevantDocument:t}=e,n=t?new URL(t.link):null,s=(null==t?void 0:t.__typename)==="MessageAttachmentIssueDoc",a=(null==t?void 0:t.__typename)==="MessageAttachmentPullDoc",o="MessageAttachmentWebDoc"===t.__typename?void 0:t.author;return(0,r.jsx)("div",{className:"prose max-w-none break-words dark:prose-invert prose-p:leading-relaxed prose-pre:mt-1 prose-pre:p-0",children:(0,r.jsxs)("div",{className:"flex w-full flex-col gap-y-1 text-sm",children:[(0,r.jsxs)("div",{className:"m-0 flex items-center space-x-1 text-xs leading-none text-muted-foreground",children:[(0,r.jsx)(d.V,{hostname:n.hostname,className:"m-0 mr-1 leading-none"}),(0,r.jsx)("p",{className:"m-0 leading-none",children:n.hostname})]}),(0,r.jsx)("p",{className:"m-0 cursor-pointer font-bold leading-none transition-opacity hover:opacity-70",onClick:()=>window.open(t.link),children:t.title}),(0,r.jsxs)("div",{className:"mb-2 w-auto",children:[s&&(0,r.jsx)(x,{closed:t.closed,user:o}),a&&(0,r.jsx)(h,{merged:t.merged,user:o})]}),(0,r.jsx)("p",{className:"m-0 line-clamp-4 leading-none",children:b((0,c.L5)(t))})]})})}function h(e){let{merged:t,user:n}=e;return(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(g,{merged:t}),(0,r.jsx)("div",{className:"flex flex-1 items-center gap-1.5",children:!!n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.Yt,{user:n,className:"not-prose h-5 w-5 shrink-0"}),(0,r.jsx)("span",{className:"font-semibold text-muted-foreground",children:n.name||n.email})]})})]})}function x(e){let{closed:t,user:n}=e;return(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(v,{closed:t}),(0,r.jsx)("div",{className:"flex flex-1 items-center gap-1.5",children:!!n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.Yt,{user:n,className:"not-prose h-5 w-5 shrink-0"}),(0,r.jsx)("span",{className:"font-semibold text-muted-foreground",children:n.name||n.email})]})})]})}function v(e){let{closed:t}=e;return(0,r.jsxs)(u.C,{variant:t?"default":"secondary",className:"shrink-0 gap-1 py-1 text-xs",children:[t?(0,r.jsx)(m.IconCheckCircled,{className:"h-3.5 w-3.5"}):(0,r.jsx)(m.IconCircleDot,{className:"h-3.5 w-3.5"}),t?"Closed":"Open"]})}function g(e){let{merged:t}=e;return(0,r.jsxs)(u.C,{variant:t?"default":"secondary",className:"shrink-0 gap-1 py-1 text-xs",children:[t?(0,r.jsx)(m.IconGitMerge,{className:"h-3.5 w-3.5"}):(0,r.jsx)(m.IconGitPullRequest,{className:"h-3.5 w-3.5"}),t?"Merged":"Open"]})}let b=e=>{let t=a().sanitize(e,{ALLOWED_TAGS:[],ALLOWED_ATTR:[]}),n=i.TU.parse(t),r=l().decode(n),s=r.replace(/<\/?[^>]+(>|$)/g,"");return s}},54646:function(e,t,n){"use strict";n.d(t,{m:function(){return E},J:function(){return A}});var r=n(36164),s=n(3546),a=n(1853),o=n(74630),l=n(36982),i=n(93668),c=n(57288),d=n(90615),u=n(73033);n(80804);var m=n(31745),f=n(74038),p=n(83171),h=n(81565),x=n(3448),v=n(94744),g=n(37064),b=n(83008),j=n(28312),y=n(31458),w=n(29);let N=(0,s.memo)(e=>{let{language:t,value:n,onCopyContent:a,onApplyInEditor:o,canWrapLongLines:l,supportsOnApplyInEditorV2:i}=e,[c,d]=(0,s.useState)(!1),{isCopied:u,copyToClipboard:m}=(0,j.m)({timeout:2e3,onCopyContent:a});return(0,r.jsxs)("div",{className:"codeblock relative w-full bg-zinc-950 font-sans",children:[(0,r.jsxs)("div",{className:"flex w-full items-center justify-between bg-zinc-800 px-6 py-2 pr-4 text-zinc-100",children:[(0,r.jsx)("span",{className:"text-xs lowercase",children:t}),(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[l&&(0,r.jsxs)(w.u,{children:[(0,r.jsx)(w.aJ,{asChild:!0,children:(0,r.jsx)(y.z,{size:"icon",variant:"ghost",className:"text-xs hover:bg-[#3C382F] hover:text-[#F4F4F5] focus-visible:ring-1 focus-visible:ring-slate-700 focus-visible:ring-offset-0",onClick:()=>d(!c),children:c?(0,r.jsx)(h.IconAlignJustify,{}):(0,r.jsx)(h.IconWrapText,{})})}),(0,r.jsx)(w._v,{children:(0,r.jsx)("p",{className:"m-0",children:"Toggle word wrap"})})]}),i&&o&&(0,r.jsxs)(w.u,{children:[(0,r.jsx)(w.aJ,{asChild:!0,children:(0,r.jsxs)(y.z,{variant:"ghost",size:"icon",className:"text-xs hover:bg-[#3C382F] hover:text-[#F4F4F5] focus-visible:ring-1 focus-visible:ring-slate-700 focus-visible:ring-offset-0",onClick:()=>o(n,{languageId:t,smart:!0}),children:[(0,r.jsx)(h.IconSmartApplyInEditor,{}),(0,r.jsx)("span",{className:"sr-only",children:"Smart Apply in Editor"})]})}),(0,r.jsx)(w._v,{children:(0,r.jsx)("p",{className:"m-0",children:"Smart Apply in Editor"})})]}),o&&(0,r.jsxs)(w.u,{children:[(0,r.jsx)(w.aJ,{asChild:!0,children:(0,r.jsxs)(y.z,{variant:"ghost",size:"icon",className:"text-xs hover:bg-[#3C382F] hover:text-[#F4F4F5] focus-visible:ring-1 focus-visible:ring-slate-700 focus-visible:ring-offset-0",onClick:()=>o(n,void 0),children:[(0,r.jsx)(h.IconApplyInEditor,{}),(0,r.jsx)("span",{className:"sr-only",children:"Apply in Editor"})]})}),(0,r.jsx)(w._v,{children:(0,r.jsx)("p",{className:"m-0",children:"Apply in Editor"})})]}),(0,r.jsxs)(w.u,{children:[(0,r.jsx)(w.aJ,{asChild:!0,children:(0,r.jsxs)(y.z,{variant:"ghost",size:"icon",className:"text-xs hover:bg-[#3C382F] hover:text-[#F4F4F5] focus-visible:ring-1 focus-visible:ring-slate-700 focus-visible:ring-offset-0",onClick:()=>{u||m(n)},children:[u?(0,r.jsx)(h.IconCheck,{}):(0,r.jsx)(h.IconCopy,{}),(0,r.jsx)("span",{className:"sr-only",children:"Copy"})]})}),(0,r.jsx)(w._v,{children:(0,r.jsx)("p",{className:"m-0",children:"Copy"})})]})]})]}),(0,r.jsx)(v.Z,{language:"toml"===t?"bash":t,style:b.RY,PreTag:"div",showLineNumbers:!0,wrapLongLines:c,customStyle:{margin:0,width:"100%",background:"transparent",padding:"1.5rem 1rem"},codeTagProps:{style:{fontSize:"0.9rem",fontFamily:"var(--font-mono)"}},renderer:e=>{let{rows:t,stylesheet:n,useInlineStyles:r}=e;return t.map((e,t)=>{let s=e.children,a=null==s?void 0:s.shift();return a&&(e.children=[a,{children:s,properties:{className:[]},tagName:"span",type:"element"}]),(0,g.ZP)({node:e,stylesheet:n,useInlineStyles:r,key:t})})},children:n})]})});N.displayName="CodeBlock";let C=(0,s.createContext)({});function k(e){var t;let{inline:n,className:a,children:o,...l}=e,{lookupSymbol:i,openInEditor:d,canWrapLongLines:u,onApplyInEditor:m,onCopyContent:f,supportsOnApplyInEditorV2:p,symbolPositionMap:x}=(0,s.useContext)(C),v=null===(t=o[0])||void 0===t?void 0:t.toString(),g=v?x.get(v):void 0;if((0,s.useEffect)(()=>{n&&i&&v&&i(v)},[n,v,i]),o.length){if("▍"===o[0])return(0,r.jsx)("span",{className:"mt-1 animate-pulse cursor-default",children:"▍"});o[0]=o[0].replace("`▍`","▍")}if(n){let e=!!(null==g?void 0:g.target);return(0,r.jsxs)("code",{className:(0,c.cn)("group/symbol",a,{symbol:!!i,"bg-muted leading-5 py-0.5":!!i&&!e,"space-x-1 cursor-pointer hover:bg-muted/50 border whitespace-nowrap align-middle py-0.5":e}),onClick:()=>{e&&d&&(null==g?void 0:g.target)&&d(g.target)},...l,children:[e&&(0,r.jsx)(h.IconSquareChevronRight,{className:"relative -top-px inline-block h-3.5 w-3.5 text-primary"}),(0,r.jsx)("span",{className:(0,c.cn)("whitespace-normal",{"group-hover/symbol:text-primary":e}),children:o})]})}let b=/language-(\w+)/.exec(a||"");return(0,r.jsx)(N,{language:b&&b[1]||"",value:String(o).replace(/\n$/,""),onApplyInEditor:m,onCopyContent:f,canWrapLongLines:u,supportsOnApplyInEditorV2:p})}var S=n(64219);function A(e){let{message:t,headline:n=!1,attachmentDocs:d,attachmentClientCode:m,attachmentCode:p,onApplyInEditor:h,onCopyContent:x,contextInfo:v,fetchingContextInfo:g,className:b,canWrapLongLines:j,onLookupSymbol:y,openInEditor:w,supportsOnApplyInEditorV2:N,activeSelection:S,...A}=e,[E,R]=(0,s.useState)(new Map),P=(0,s.useMemo)(()=>{var e,t,n;let r=null!==(e=null==d?void 0:d.map(e=>({type:"doc",data:e})))&&void 0!==e?e:[],s=null!==(t=null==m?void 0:m.map(e=>({type:"code",data:e})))&&void 0!==t?t:[],o=null!==(n=null==p?void 0:p.map(e=>({type:"code",data:e})))&&void 0!==n?n:[];return(0,a.Z)([...r,...s,...o])},[d,m,p]),F=e=>{let t;let s=[],a=0,l=e=>{e&&s.push(e)},i=(n,o,i)=>{for(;null!==(t=n.exec(e));)l(e.slice(a,t.index)),s.push((0,r.jsx)(o,{...i(t)},t.index)),a=t.index+t[0].length};return i(f.Hc,I,e=>{let t=parseInt(e[1],10),n=(0,o.Z)(t)?void 0:null==P?void 0:P[t-1],r=null==n?void 0:n.type,s=n&&!(0,o.Z)(t);return{citationIndex:t,showcitation:s,citationType:r,citationSource:n}}),i(f.zf,M,e=>{let t=e[1];return{sourceId:t,className:n?"text-[1rem] font-semibold":void 0}}),i(f.Bt,D,e=>{let t=e[1];try{return{encodedFilepath:t,openInEditor:w}}catch(e){}}),i(f.vY,T,e=>{let t=e[1];return{encodedSymbol:t,openInEditor:w}}),l(e.slice(a)),s},L=async e=>{if(!y||E.has(e))return;R(t=>new Map(t.set(e,void 0)));let t=[];S&&(null==S?void 0:S.range)&&t.push({filepath:(0,c.nd)(S),location:{start:S.range.start,end:S.range.end}});let n=await y(e,t);R(t=>new Map(t.set(e,n)))},z=(0,s.useMemo)(()=>(0,c.M0)(t),[t]);return(0,r.jsx)(C.Provider,{value:{onCopyContent:x,onApplyInEditor:h,onCodeCitationClick:A.onCodeCitationClick,onCodeCitationMouseEnter:A.onCodeCitationMouseEnter,onCodeCitationMouseLeave:A.onCodeCitationMouseLeave,contextInfo:v,fetchingContextInfo:!!g,canWrapLongLines:!!j,supportsOnApplyInEditorV2:N,activeSelection:S,symbolPositionMap:E,lookupSymbol:y?L:void 0,openInEditor:w},children:(0,r.jsx)(u.s,{className:(0,c.cn)("message-markdown prose max-w-none break-words dark:prose-invert prose-p:leading-relaxed prose-pre:mt-1 prose-pre:p-0",{"cursor-default":!!h},b),remarkPlugins:[l.Z,i.Z],components:{p(e){let{children:t}=e;return(0,r.jsx)("p",{className:"mb-2 last:mb-0",children:t.map((e,t)=>"string"==typeof e?F(e):(0,r.jsx)("span",{children:e},t))})},li(e){let{children:t}=e;return t&&t.length?(0,r.jsx)("li",{children:t.map((e,t)=>"string"==typeof e?F(e):(0,r.jsx)("span",{children:e},t))}):(0,r.jsx)("li",{children:t})},code(e){let{node:t,inline:n,className:s,children:a,...o}=e;return(0,r.jsx)(k,{node:t,inline:n,className:s,...o,children:a})}},children:z})})}function E(e){let{error:t="Failed to fetch"}=e,n=(0,s.useMemo)(()=>"```\n"+JSON.stringify({error:!0,message:t},null,2)+"\n```",[t]);return(0,r.jsx)(u.s,{className:"prose-full-width prose break-words text-sm dark:prose-invert prose-p:leading-relaxed prose-pre:mt-1 prose-pre:p-0",remarkPlugins:[l.Z,i.Z],components:{code(e){let{node:t,inline:n,className:s,children:a,...o}=e;return(0,r.jsx)("div",{...o,className:(0,c.cn)(s,"bg-zinc-950 p-2"),children:a})}},children:n})}function I(e){let{citationIndex:t,showcitation:n,citationType:s,citationSource:a}=e;return(0,r.jsx)("div",{className:"inline",children:n&&(0,r.jsx)(r.Fragment,{children:"doc"===s?(0,r.jsx)(R,{relevantDocument:a.data,citationIndex:t}):"code"===s?(0,r.jsx)(P,{relevantCode:a.data,citationIndex:t}):null})})}function M(e){var t;let{sourceId:n,className:a}=e,{contextInfo:o,fetchingContextInfo:l}=(0,s.useContext)(C);if(!n)return null;let i=null==o?void 0:null===(t=o.sources)||void 0===t?void 0:t.find(e=>e.sourceId===n);return i?(0,r.jsx)("span",{className:"node-mention",children:(0,r.jsx)("span",{children:l?(0,r.jsx)(x.O,{className:"w-16"}):(0,r.jsx)(p.p,{id:i.sourceId,label:i.sourceName,kind:i.sourceKind,className:a})})}):null}function D(e){let{encodedFilepath:t,openInEditor:n,className:a}=e,o=(0,s.useMemo)(()=>{if(!t)return null;try{let e=decodeURIComponent(t),n=JSON.parse(e);return n}catch(e){return null}},[t]),l=(0,s.useMemo)(()=>{if(o)return(0,c.VJ)(o).filepath},[o]);return l?(0,r.jsxs)("span",{className:(0,c.cn)("symbol space-x-1 whitespace-nowrap border bg-muted py-0.5 align-middle leading-5",a,{"hover:bg-muted/50 cursor-pointer":!!n&&!!o}),onClick:()=>{n&&o&&n({filepath:o})},children:[(0,r.jsx)(h.IconFile,{className:"relative -top-px inline-block h-3.5 w-3.5"}),(0,r.jsx)("span",{className:(0,c.cn)("whitespace-normal font-medium"),children:(0,c.UA)(l)})]}):null}function T(e){let{encodedSymbol:t,openInEditor:n,className:a}=e,o=(0,s.useMemo)(()=>{if(!t)return null;try{let e=decodeURIComponent(t);return JSON.parse(e)}catch(e){return null}},[t]);return(null==o?void 0:o.label)?(0,r.jsxs)("span",{className:(0,c.cn)("symbol space-x-1 whitespace-nowrap border bg-muted py-0.5 align-middle leading-5",a,{"hover:bg-muted/50 cursor-pointer":!!n}),onClick:()=>{n&&o&&n({filepath:o.filepath,location:o.range})},children:[(0,r.jsx)(m.Z,{className:"relative -top-px inline-block h-3.5 w-3.5"}),(0,r.jsx)("span",{className:"font-medium",children:o.label})]}):null}function R(e){let{relevantDocument:t,citationIndex:n}=e;return(0,r.jsxs)(d.zs,{openDelay:100,closeDelay:100,children:[(0,r.jsx)(d.Yi,{children:(0,r.jsx)("span",{className:"relative -top-2 mr-0.5 inline-block h-4 w-4 cursor-pointer rounded-full bg-muted text-center text-xs font-medium",onClick:()=>window.open(t.link),children:n})}),(0,r.jsx)(d.bZ,{className:"w-96 bg-background text-sm text-foreground dark:border-muted-foreground/60",children:(0,r.jsx)(S.Z,{relevantDocument:t})})]})}function P(e){let{relevantCode:t,citationIndex:n}=e,{onCodeCitationClick:a,onCodeCitationMouseEnter:o,onCodeCitationMouseLeave:l}=(0,s.useContext)(C);return(0,r.jsx)("span",{className:"relative -top-2 mr-0.5 inline-block h-4 w-4 cursor-pointer rounded-full bg-muted text-center text-xs font-medium",onClick:()=>{null==a||a(t)},onMouseEnter:()=>{null==o||o(n)},onMouseLeave:()=>{null==l||l(n)},children:n})}},69579:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var r=n(36164),s=n(42891),a=n.n(s),o=n(70652),l=n.n(o),i=n(83332),c=n(76531),d=n(57288),u=n(68172),m=n(30601),f=n(63743),p=n(31458),h=n(52569),x=n(7449);function v(){let[e]=(0,m.Hb)(),t=e?{height:"calc(100vh - ".concat(m.wt,")")}:{height:"100vh"};return(0,r.jsxs)("div",{style:t,className:"flex flex-col",children:[(0,r.jsx)(g,{}),(0,r.jsxs)("div",{className:"flex flex-1 flex-col items-center justify-center",children:[(0,r.jsx)("h2",{className:"mt-4 text-6xl font-bold tracking-tight text-foreground sm:text-7xl",children:"404"}),(0,r.jsx)("p",{className:"mt-4 text-lg text-muted-foreground",children:"Oops, it looks like the page you're looking for doesn't exist."}),(0,r.jsx)(l(),{className:(0,d.cn)("mt-6",(0,p.d)()),href:"/",children:"Home"})]})]})}function g(){return(0,r.jsxs)("header",{className:"flex h-16 items-center justify-between border-b px-4 lg:px-10",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsxs)(l(),{href:"/",children:[(0,r.jsx)(a(),{src:c.Z,alt:"logo",width:128,className:"dark:hidden"}),(0,r.jsx)(a(),{src:i.Z,alt:"logo",width:96,className:"hidden dark:block"})]})}),(0,r.jsxs)("div",{className:"flex items-center gap-6",children:[(0,r.jsx)(u.q,{children:(0,r.jsx)(f.T,{})}),(0,r.jsx)(x.Z,{showSetting:!0,children:(0,r.jsx)(h.SQ,{className:"h-10 w-10 border"})})]})]})}},89811:function(e,t,n){"use strict";n.d(t,{V:function(){return c}});var r=n(36164),s=n(3546),a=n(42891),o=n.n(a),l={src:"/_next/static/media/default-favicon.a2df8fbb.png",height:16,width:16,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAABAElEQVR42mOAAqaMgrXeIYlL2jwjF7WZey7wBolB5eyZotNX1PdMO/Br466r/89dfvx/w7aLv6LSlteDFem5zPPesPXir20Hbv7ftPfGrz9///969urL/xkLj/0KjlvqzZCct6rt9r3X/w+cvP/r8fOP/0Hg/uN3vzbsvPq/rmVzG0Nk+oq2J8/f///89devOw/f/n/7/uv/T19+/Dpx7uH/3NK1bQwMarO8tu66/Auk89qd17/mrzn/682H7//3H7rxi4FhsheDDYMhU0DC0vqde6/+On/lyf/5q878X7Tq9M+E7JX1cJ/4MpgzMajO9ApNXtoWl7mszc5nvhdMEgB1uZJfA01kRAAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},i=n(57288);function c(e){let{hostname:t,className:n}=e,[a,c]=(0,s.useState)(!1);return(0,r.jsxs)("div",{className:"relative h-3.5 w-3.5 shrink-0",children:[(0,r.jsx)(o(),{src:l,alt:t,width:14,height:14,className:(0,i.cn)("absolute left-0 top-0 z-0 h-3.5 w-3.5 rounded-full leading-none",n)}),(0,r.jsx)(o(),{src:"https://s2.googleusercontent.com/s2/favicons?sz=128&domain_url=".concat(t),alt:t,width:14,height:14,className:(0,i.cn)("relative z-10 h-3.5 w-3.5 rounded-full bg-card leading-none",n,{"opacity-0":!a}),onLoad:()=>{c(!0)}})]})}},73460:function(e,t,n){"use strict";n.d(t,{OL:function(){return v},_T:function(){return m},aR:function(){return i},f$:function(){return h},fY:function(){return f},le:function(){return g},vW:function(){return c},xo:function(){return p},yT:function(){return x}});var r=n(36164),s=n(3546),a=n(28961),o=n(57288),l=n(31458);let i=a.fC,c=a.xz,d=e=>{let{className:t,children:n,...s}=e;return(0,r.jsx)(a.h_,{className:(0,o.cn)(t),...s,children:(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-end justify-center sm:items-center",children:n})})};d.displayName=a.h_.displayName;let u=s.forwardRef((e,t)=>{let{className:n,children:s,...l}=e;return(0,r.jsx)(a.aV,{className:(0,o.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm transition-opacity animate-in fade-in",n),...l,ref:t})});u.displayName=a.aV.displayName;let m=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsxs)(d,{children:[(0,r.jsx)(u,{}),(0,r.jsx)(a.VY,{ref:t,className:(0,o.cn)("fixed z-50 grid w-full max-w-lg scale-100 gap-4 border bg-background p-6 opacity-100 shadow-lg animate-in fade-in-90 slide-in-from-bottom-10 sm:rounded-lg sm:zoom-in-90 sm:slide-in-from-bottom-0 md:w-full",n),...s})]})});m.displayName=a.VY.displayName;let f=e=>{let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...n})};f.displayName="AlertDialogHeader";let p=e=>{let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...n})};p.displayName="AlertDialogFooter";let h=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.Dx,{ref:t,className:(0,o.cn)("text-lg font-semibold",n),...s})});h.displayName=a.Dx.displayName;let x=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.dk,{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",n),...s})});x.displayName=a.dk.displayName;let v=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.aU,{ref:t,className:(0,o.cn)((0,l.d)(),n),...s})});v.displayName=a.aU.displayName;let g=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.$j,{ref:t,className:(0,o.cn)((0,l.d)({variant:"outline"}),"mt-2 sm:mt-0",n),...s})});g.displayName=a.$j.displayName},63795:function(e,t,n){"use strict";n.d(t,{C:function(){return l}});var r=n(36164);n(3546);var s=n(14375),a=n(57288);let o=(0,s.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",successful:"border-transparent bg-successful text-successful-foreground hover:bg-successful/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:n,...s}=e;return(0,r.jsx)("div",{className:(0,a.cn)(o({variant:n}),t),...s})}},95052:function(e,t,n){"use strict";n.d(t,{X:function(){return i}});var r=n(36164),s=n(3546),a=n(30317),o=n(57288),l=n(81565);let i=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.fC,{ref:t,className:(0,o.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",n),...s,children:(0,r.jsx)(a.z$,{className:(0,o.cn)("flex items-center justify-center text-current"),children:(0,r.jsx)(l.IconCheck,{className:"h-4 w-4"})})})});i.displayName=a.fC.displayName},90615:function(e,t,n){"use strict";n.d(t,{Yi:function(){return i},bZ:function(){return c},zs:function(){return l}});var r=n(36164),s=n(3546),a=n(38421),o=n(57288);let l=a.fC,i=a.xz;a.h_;let c=s.forwardRef((e,t)=>{let{className:n,align:s="center",sideOffset:l=4,...i}=e;return(0,r.jsx)(a.VY,{ref:t,align:s,sideOffset:l,className:(0,o.cn)("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...i})});c.displayName=a.VY.displayName},25600:function(e,t,n){"use strict";n.d(t,{FF:function(){return v},Tu:function(){return x},aM:function(){return d},bC:function(){return g},sw:function(){return u},ue:function(){return h},yo:function(){return c}});var r=n(36164),s=n(3546),a=n(4318),o=n(14375),l=n(1663),i=n(57288);let c=a.fC,d=a.xz,u=a.x8,m=a.h_,f=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.aV,{className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...s,ref:t})});f.displayName=a.aV.displayName;let p=(0,o.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),h=s.forwardRef((e,t)=>{let{side:n="right",className:s,children:o,...c}=e;return(0,r.jsxs)(m,{children:[(0,r.jsx)(f,{}),(0,r.jsxs)(a.VY,{ref:t,className:(0,i.cn)(p({side:n}),s),...c,children:[o,(0,r.jsxs)(a.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,r.jsx)(l.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});h.displayName=a.VY.displayName;let x=e=>{let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...n})};x.displayName="SheetHeader";let v=e=>{let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...n})};v.displayName="SheetFooter";let g=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.Dx,{ref:t,className:(0,i.cn)("text-lg font-semibold text-foreground",n),...s})});g.displayName=a.Dx.displayName;let b=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.dk,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",n),...s})});b.displayName=a.dk.displayName},21808:function(e,t,n){"use strict";n.d(t,{$6:function(){return a},$I:function(){return o},L8:function(){return s},ir:function(){return l},o0:function(){return r},rZ:function(){return i}});let r="name@yourcompany.com",s=20,a={DEMO_AUTO_LOGIN:"_tabby_demo_autologin"},o=48,l="NOT_FOUND",i="\n"},12624:function(e,t,n){"use strict";n.d(t,{e:function(){return a}});var r=n(3546),s=n(62940);function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,[n,a]=r.useState(!1);return r.useEffect(()=>{if(t)return;let n=(0,s.Z)(()=>{a(window.innerHeight+window.scrollY>=document.body.offsetHeight-e)},100,{leading:!0});return window.addEventListener("scroll",n,{passive:!0}),window.addEventListener("resize",n,{passive:!0}),n(),()=>{window.removeEventListener("scroll",n),window.removeEventListener("resize",n)}},[e,t]),r.useEffect(()=>{if(!t)return;let n=(0,s.Z)(()=>{let{scrollTop:n,clientHeight:r,scrollHeight:s}=t;a(n+r>=s-e)},100,{leading:!0});return t.addEventListener("scroll",n,{passive:!0}),t.addEventListener("resize",n,{passive:!0}),n(),()=>{t.removeEventListener("scroll",n),t.removeEventListener("resize",n)}},[e,t]),n}},44645:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(3546),s=n(11978);function a(){let e=(0,s.usePathname)(),t=(0,s.useRouter)(),n=(0,s.useSearchParams)(),a=(0,r.useCallback)(e=>{let t=new URLSearchParams(n);e&&Object.entries(e).forEach(e=>{let[n,r]=e;return t.set(n,r)});let r=t.toString();return r.length>0?"?".concat(r):""},[n]),o=(0,r.useCallback)(r=>{let s=function(e,t,n){var r,s;let a=null===(r=n.searchParams)||void 0===r?void 0:r.set,o=null===(s=n.searchParams)||void 0===s?void 0:s.del,l=new URLSearchParams(t);a&&Object.entries(a).forEach(e=>{let[t,n]=e;return l.set(t,n)}),o&&(Array.isArray(o)?o.forEach(e=>l.delete(e)):l.delete(o));let i=l.toString(),c=e;return i.length>0&&(c+="?".concat(i)),n.hash&&(c+="#".concat(n.hash.replace(/^#/,""))),c}((null==r?void 0:r.pathname)||e,n,r);return r.replace?t.replace(s):t.push(s),s},[e,n]);return{pathname:e,router:t,searchParams:n,getQueryString:a,updateUrlComponents:o}}},96274:function(e,t,n){"use strict";n.d(t,{W:function(){return c},u:function(){return l}});var r=n(27257),s=n(85654);let a=[],o={pendingThreadId:void 0},l=(0,r.Ue)()((0,s.tJ)(()=>({...o}),{name:"tabby-page-storage",partialize:e=>Object.fromEntries(Object.entries(e).filter(e=>{let[t]=e;return!a.includes(t)}))})),i=l.setState,c=e=>{i(()=>({pendingThreadId:e}))}},37266:function(e,t,n){"use strict";n.d(t,{CR:function(){return a},F0:function(){return l},wh:function(){return i}});var r=n(27257);let s={homePage:void 0},a=(0,r.Ue)()(()=>({...s})),o=a.setState,l=e=>o(()=>({homePage:e})),i=()=>o(()=>({homePage:void 0}))},80804:function(){},76531:function(e,t){"use strict";t.Z={src:"/_next/static/media/logo.526f7cf9.png",height:184,width:607,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAYAAABllJ3tAAAASklEQVR4nGPsKQh1f/HshV/PqtNtagrC8p++//rDAgQM//9/ZWJifMZYnRqg9+bVq6iZ51+1SP/5ovH//z8eRgbGbwyMjPxA9n0AMi8g2L1xUkUAAAAASUVORK5CYII=",blurWidth:8,blurHeight:2}},30317:function(e,t,n){"use strict";n.d(t,{fC:function(){return N},z$:function(){return C}});var r=n(65122),s=n(3546),a=n(79869),o=n(47091),l=n(65727),i=n(27250),c=n(81544),d=n(96593),u=n(96497),m=n(72205);let f="Checkbox",[p,h]=(0,o.b)(f),[x,v]=p(f),g=(0,s.forwardRef)((e,t)=>{let{__scopeCheckbox:n,name:o,checked:c,defaultChecked:d,required:u,disabled:f,value:p="on",onCheckedChange:h,...v}=e,[g,b]=(0,s.useState)(null),N=(0,a.e)(t,e=>b(e)),C=(0,s.useRef)(!1),k=!g||!!g.closest("form"),[S=!1,A]=(0,i.T)({prop:c,defaultProp:d,onChange:h}),E=(0,s.useRef)(S);return(0,s.useEffect)(()=>{let e=null==g?void 0:g.form;if(e){let t=()=>A(E.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[g,A]),(0,s.createElement)(x,{scope:n,state:S,disabled:f},(0,s.createElement)(m.WV.button,(0,r.Z)({type:"button",role:"checkbox","aria-checked":y(S)?"mixed":S,"aria-required":u,"data-state":w(S),"data-disabled":f?"":void 0,disabled:f,value:p},v,{ref:N,onKeyDown:(0,l.M)(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,l.M)(e.onClick,e=>{A(e=>!!y(e)||!e),k&&(C.current=e.isPropagationStopped(),C.current||e.stopPropagation())})})),k&&(0,s.createElement)(j,{control:g,bubbles:!C.current,name:o,value:p,checked:S,required:u,disabled:f,style:{transform:"translateX(-100%)"}}))}),b=(0,s.forwardRef)((e,t)=>{let{__scopeCheckbox:n,forceMount:a,...o}=e,l=v("CheckboxIndicator",n);return(0,s.createElement)(u.z,{present:a||y(l.state)||!0===l.state},(0,s.createElement)(m.WV.span,(0,r.Z)({"data-state":w(l.state),"data-disabled":l.disabled?"":void 0},o,{ref:t,style:{pointerEvents:"none",...e.style}})))}),j=e=>{let{control:t,checked:n,bubbles:a=!0,...o}=e,l=(0,s.useRef)(null),i=(0,c.D)(n),u=(0,d.t)(t);return(0,s.useEffect)(()=>{let e=l.current,t=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(t,"checked"),s=r.set;if(i!==n&&s){let t=new Event("click",{bubbles:a});e.indeterminate=y(n),s.call(e,!y(n)&&n),e.dispatchEvent(t)}},[i,n,a]),(0,s.createElement)("input",(0,r.Z)({type:"checkbox","aria-hidden":!0,defaultChecked:!y(n)&&n},o,{tabIndex:-1,ref:l,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function y(e){return"indeterminate"===e}function w(e){return y(e)?"indeterminate":e?"checked":"unchecked"}let N=g,C=b},90893:function(e,t,n){"use strict";n.d(t,{f:function(){return l}});var r=n(65122),s=n(3546),a=n(72205);let o=(0,s.forwardRef)((e,t)=>(0,s.createElement)(a.WV.label,(0,r.Z)({},e,{ref:t,onMouseDown:t=>{var n;null===(n=e.onMouseDown)||void 0===n||n.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault()}}))),l=o},1333:function(e,t,n){"use strict";n.d(t,{Pc:function(){return y},ck:function(){return M},fC:function(){return I}});var r=n(65122),s=n(3546),a=n(65727),o=n(85656),l=n(79869),i=n(47091),c=n(29434),d=n(72205),u=n(17957),m=n(27250),f=n(57541);let p="rovingFocusGroup.onEntryFocus",h={bubbles:!1,cancelable:!0},x="RovingFocusGroup",[v,g,b]=(0,o.B)(x),[j,y]=(0,i.b)(x,[b]),[w,N]=j(x),C=(0,s.forwardRef)((e,t)=>(0,s.createElement)(v.Provider,{scope:e.__scopeRovingFocusGroup},(0,s.createElement)(v.Slot,{scope:e.__scopeRovingFocusGroup},(0,s.createElement)(k,(0,r.Z)({},e,{ref:t}))))),k=(0,s.forwardRef)((e,t)=>{let{__scopeRovingFocusGroup:n,orientation:o,loop:i=!1,dir:c,currentTabStopId:x,defaultCurrentTabStopId:v,onCurrentTabStopIdChange:b,onEntryFocus:j,...y}=e,N=(0,s.useRef)(null),C=(0,l.e)(t,N),k=(0,f.gm)(c),[S=null,A]=(0,m.T)({prop:x,defaultProp:v,onChange:b}),[I,M]=(0,s.useState)(!1),D=(0,u.W)(j),T=g(n),R=(0,s.useRef)(!1),[P,F]=(0,s.useState)(0);return(0,s.useEffect)(()=>{let e=N.current;if(e)return e.addEventListener(p,D),()=>e.removeEventListener(p,D)},[D]),(0,s.createElement)(w,{scope:n,orientation:o,dir:k,loop:i,currentTabStopId:S,onItemFocus:(0,s.useCallback)(e=>A(e),[A]),onItemShiftTab:(0,s.useCallback)(()=>M(!0),[]),onFocusableItemAdd:(0,s.useCallback)(()=>F(e=>e+1),[]),onFocusableItemRemove:(0,s.useCallback)(()=>F(e=>e-1),[])},(0,s.createElement)(d.WV.div,(0,r.Z)({tabIndex:I||0===P?-1:0,"data-orientation":o},y,{ref:C,style:{outline:"none",...e.style},onMouseDown:(0,a.M)(e.onMouseDown,()=>{R.current=!0}),onFocus:(0,a.M)(e.onFocus,e=>{let t=!R.current;if(e.target===e.currentTarget&&t&&!I){let t=new CustomEvent(p,h);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=T().filter(e=>e.focusable),t=e.find(e=>e.active),n=e.find(e=>e.id===S),r=[t,n,...e].filter(Boolean),s=r.map(e=>e.ref.current);E(s)}}R.current=!1}),onBlur:(0,a.M)(e.onBlur,()=>M(!1))})))}),S=(0,s.forwardRef)((e,t)=>{let{__scopeRovingFocusGroup:n,focusable:o=!0,active:l=!1,tabStopId:i,...u}=e,m=(0,c.M)(),f=i||m,p=N("RovingFocusGroupItem",n),h=p.currentTabStopId===f,x=g(n),{onFocusableItemAdd:b,onFocusableItemRemove:j}=p;return(0,s.useEffect)(()=>{if(o)return b(),()=>j()},[o,b,j]),(0,s.createElement)(v.ItemSlot,{scope:n,id:f,focusable:o,active:l},(0,s.createElement)(d.WV.span,(0,r.Z)({tabIndex:h?0:-1,"data-orientation":p.orientation},u,{ref:t,onMouseDown:(0,a.M)(e.onMouseDown,e=>{o?p.onItemFocus(f):e.preventDefault()}),onFocus:(0,a.M)(e.onFocus,()=>p.onItemFocus(f)),onKeyDown:(0,a.M)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey){p.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let t=function(e,t,n){var r;let s=(r=e.key,"rtl"!==n?r:"ArrowLeft"===r?"ArrowRight":"ArrowRight"===r?"ArrowLeft":r);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(s))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(s)))return A[s]}(e,p.orientation,p.dir);if(void 0!==t){e.preventDefault();let s=x().filter(e=>e.focusable),a=s.map(e=>e.ref.current);if("last"===t)a.reverse();else if("prev"===t||"next"===t){var n,r;"prev"===t&&a.reverse();let s=a.indexOf(e.currentTarget);a=p.loop?(n=a,r=s+1,n.map((e,t)=>n[(r+t)%n.length])):a.slice(s+1)}setTimeout(()=>E(a))}})})))}),A={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function E(e){let t=document.activeElement;for(let n of e)if(n===t||(n.focus(),document.activeElement!==t))return}let I=C,M=S},6044:function(e,t,n){"use strict";n.d(t,{VY:function(){return E},aV:function(){return S},fC:function(){return k},nU:function(){return w},xz:function(){return A}});var r=n(65122),s=n(3546),a=n(65727),o=n(47091),l=n(1333),i=n(96497),c=n(72205),d=n(57541),u=n(27250),m=n(29434);let f="Tabs",[p,h]=(0,o.b)(f,[l.Pc]),x=(0,l.Pc)(),[v,g]=p(f),b=(0,s.forwardRef)((e,t)=>{let{__scopeTabs:n,value:a,onValueChange:o,defaultValue:l,orientation:i="horizontal",dir:f,activationMode:p="automatic",...h}=e,x=(0,d.gm)(f),[g,b]=(0,u.T)({prop:a,onChange:o,defaultProp:l});return(0,s.createElement)(v,{scope:n,baseId:(0,m.M)(),value:g,onValueChange:b,orientation:i,dir:x,activationMode:p},(0,s.createElement)(c.WV.div,(0,r.Z)({dir:x,"data-orientation":i},h,{ref:t})))}),j=(0,s.forwardRef)((e,t)=>{let{__scopeTabs:n,loop:a=!0,...o}=e,i=g("TabsList",n),d=x(n);return(0,s.createElement)(l.fC,(0,r.Z)({asChild:!0},d,{orientation:i.orientation,dir:i.dir,loop:a}),(0,s.createElement)(c.WV.div,(0,r.Z)({role:"tablist","aria-orientation":i.orientation},o,{ref:t})))}),y=(0,s.forwardRef)((e,t)=>{let{__scopeTabs:n,value:o,disabled:i=!1,...d}=e,u=g("TabsTrigger",n),m=x(n),f=N(u.baseId,o),p=C(u.baseId,o),h=o===u.value;return(0,s.createElement)(l.ck,(0,r.Z)({asChild:!0},m,{focusable:!i,active:h}),(0,s.createElement)(c.WV.button,(0,r.Z)({type:"button",role:"tab","aria-selected":h,"aria-controls":p,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:f},d,{ref:t,onMouseDown:(0,a.M)(e.onMouseDown,e=>{i||0!==e.button||!1!==e.ctrlKey?e.preventDefault():u.onValueChange(o)}),onKeyDown:(0,a.M)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&u.onValueChange(o)}),onFocus:(0,a.M)(e.onFocus,()=>{let e="manual"!==u.activationMode;h||i||!e||u.onValueChange(o)})})))}),w=(0,s.forwardRef)((e,t)=>{let{__scopeTabs:n,value:a,forceMount:o,children:l,...d}=e,u=g("TabsContent",n),m=N(u.baseId,a),f=C(u.baseId,a),p=a===u.value,h=(0,s.useRef)(p);return(0,s.useEffect)(()=>{let e=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,s.createElement)(i.z,{present:o||p},({present:n})=>(0,s.createElement)(c.WV.div,(0,r.Z)({"data-state":p?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":m,hidden:!n,id:f,tabIndex:0},d,{ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0}}),n&&l))});function N(e,t){return`${e}-trigger-${t}`}function C(e,t){return`${e}-content-${t}`}let k=b,S=j,A=y,E=w},81544:function(e,t,n){"use strict";n.d(t,{D:function(){return s}});var r=n(3546);function s(e){let t=(0,r.useRef)({value:e,previous:e});return(0,r.useMemo)(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}}},function(e){e.O(0,[8415,7565,4648,6527,7430,55,641,340,4007,2546,1283,3449,2578,8511,4421,2287,7070,1454,1002,8961,4546,4553,9275,9148,4405,2991,8964,5738,2812,7288,1565,4656,9634,3375,5289,1744],function(){return e(e.s=72282)}),_N_E=e.O()}]);